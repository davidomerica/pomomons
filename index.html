<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PomoMons</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- ‚îÄ‚îÄ Header ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <header class="app-header">
    <button class="btn-audio" id="btn-audio" aria-label="Toggle sound">üîä</button>
    <div class="logo">
      <span class="logo-icon">üçÖ</span><span class="logo-pomo">POMODORO</span><span class="logo-mons">MONSTERS</span>
    </div>
    <p class="tagline">FOCUS ¬∑ CATCH ¬∑ COLLECT</p>
  </header>

  <!-- ‚îÄ‚îÄ Timer Screen ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <main id="screen-timer" class="screen active">

    <!-- Companion (no box) -->
    <div class="companion-area">
      <button class="btn-dex" id="btn-go-dex">DEX</button>
      <canvas id="companion-canvas" width="200" height="200" aria-label="Your Pomomon companion"></canvas>
      <p class="companion-name" id="companion-name">???</p>
      <p class="companion-lvl">LVL <span id="companion-level">1</span></p>
    </div>

    <!-- Timer row with inline adjust arrows -->
    <div class="timer-row">
      <section class="timer-display" aria-live="polite">
        <span id="timer-minutes">25</span><span class="timer-colon">:</span><span id="timer-seconds">00</span>
      </section>
      <div class="time-adjust">
        <button class="btn-adjust" id="btn-time-plus" aria-label="Increase focus time by 5 minutes">‚ñ≤</button>
        <button class="btn-adjust" id="btn-time-minus" aria-label="Decrease focus time by 5 minutes">‚ñº</button>
      </div>
    </div>

    <!-- Timer controls + collection grouped tightly -->
    <div class="controls-group">
      <div class="timer-controls">
        <button class="btn btn-timer-start" id="btn-start">‚ñ∂ START</button>
        <div class="btn-mode-wrap" id="btn-mode-wrap">
          <button class="btn btn-timer-mode" id="btn-mode">FOCUS ‚ñº</button>
          <div class="mode-dropdown" id="mode-dropdown" hidden>
            <button class="mode-option active" data-mode="focus">FOCUS</button>
            <button class="mode-option" data-mode="short">SHORT BREAK</button>
            <button class="mode-option" data-mode="long">LONG BREAK</button>
          </div>
        </div>
        <button class="btn btn-timer-dark" id="btn-reset" disabled>‚Ü∫ RESET</button>
      </div>
      <div class="collection-btns">
        <button class="btn btn-collection" id="btn-go-mymons">COLLECTION</button>
        <button class="btn btn-collection btn-collection-items" id="btn-go-items">ITEMS</button>
      </div>
    </div>

  </main>

  <!-- ‚îÄ‚îÄ My Mons Screen ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <main id="screen-mymons" class="screen">
    <div class="collection-header">
      <button class="btn btn-ghost btn-sm" id="btn-back-mymons">‚Üê BACK</button>
      <h2 class="screen-title">MONSTER COLLECTION</h2>
      <span class="collection-count" id="mymons-count">0</span>
    </div>

    <div class="collection-grid" id="mymons-grid">
      <p class="empty-state">COMPLETE A FOCUS SESSION TO CATCH YOUR FIRST POMOMON!</p>
    </div>
  </main>

  <!-- ‚îÄ‚îÄ Dex Screen ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <main id="screen-dex" class="screen">
    <div class="collection-header">
      <button class="btn btn-ghost btn-sm" id="btn-back-dex">‚Üê BACK</button>
      <h2 class="screen-title">POMODEX</h2>
      <span class="collection-count" id="dex-count">0 / 15</span>
    </div>
    <div class="collection-grid" id="dex-grid"></div>
  </main>

  <!-- ‚îÄ‚îÄ Progress Screen ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <main id="screen-progress" class="screen">
    <div class="collection-header">
      <button class="btn btn-ghost btn-sm" id="btn-back-progress">‚Üê BACK</button>
      <h2 class="screen-title">LEVEL REWARDS</h2>
      <span class="collection-count"></span>
    </div>
    <div class="progress-list" id="progress-list"></div>
  </main>

  <!-- ‚îÄ‚îÄ Encounter Flash (full-screen transition) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div id="encounter-flash" class="encounter-flash"></div>

  <!-- ‚îÄ‚îÄ Encounter Overlay ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div id="encounter-overlay" class="encounter-overlay" aria-live="assertive" aria-atomic="true">
    <p class="encounter-rarity" id="encounter-rarity">COMMON</p>
    <h2 class="encounter-msg" id="encounter-msg">A WILD ??? APPEARED!</h2>
    <p class="encounter-level" id="encounter-level">LVL 1</p>

    <canvas id="encounter-canvas" width="200" height="380" aria-label="Wild Pomomon"></canvas>

    <p class="encounter-sub" id="encounter-sub"></p>

    <div class="encounter-controls" id="encounter-controls">
      <button class="btn btn-primary" id="btn-throw">THROW! üçÖ</button>
      <button class="btn btn-ghost"  id="btn-flee">FLEE</button>
      <button class="btn btn-primary" id="btn-catch-next" hidden>NEXT ‚Üí</button>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ Blender Zone (fixed left, visible on My Mons screen) ‚îÄ‚îÄ -->
  <div class="blender-zone" id="blender-zone">
    <div class="blender-drop" id="blender-drop" aria-label="Drag a mon here to blend into a smoothie">
      <span class="blender-icon">ü´ô</span>
      <span class="blender-label">BLEND</span>
      <span class="blender-hint">DRAG<br>MON<br>HERE</span>
    </div>
    <div class="smoothie-box" id="smoothie-box">
      <span class="blender-icon">ü•§</span>
      <span class="blender-label">SMOOTHIES</span>
      <span class="smoothie-count" id="smoothie-count">0</span>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ Blender Confirm Modal ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div id="blender-confirm" class="blender-confirm">
    <div class="blender-confirm-box">
      <p class="blender-confirm-title">‚ö† BLEND THIS MON?</p>
      <p class="blender-confirm-body">ARE YOU SURE YOU WANT TO BLEND<br><span id="blend-name">???</span><br>INTO A SMOOTHIE ITEM?</p>
      <p class="blender-confirm-warn">THIS CANNOT BE UNDONE!</p>
      <div class="blender-confirm-btns">
        <button class="btn btn-primary" id="btn-blend-yes">BLEND IT!</button>
        <button class="btn btn-ghost" id="btn-blend-no">CANCEL</button>
      </div>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ Mon Info Overlay ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div id="mon-info-overlay" class="mon-info-overlay">
    <p class="mon-info-rarity" id="mon-info-rarity">COMMON</p>
    <h2 class="mon-info-name" id="mon-info-name">???</h2>
    <canvas id="mon-info-canvas" width="200" height="200" aria-label="Caught Pomomon"></canvas>
    <div class="mon-info-evo-section">
      <p class="mon-info-evo-title">EVOLUTION PATH</p>
      <div class="mon-info-evo-chain" id="mon-info-evo-chain"></div>
    </div>
    <button class="btn btn-primary" id="btn-mon-info-done">GOT IT!</button>
  </div>

  <!-- ‚îÄ‚îÄ Catch Overlay ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div id="catch-overlay" class="catch-overlay">
    <p class="catch-gotcha">GOTCHA!</p>
    <canvas id="catch-canvas" width="200" height="200" aria-label="Caught Pomomon"></canvas>
    <h2 class="catch-name" id="catch-name">???</h2>
    <p class="catch-sub">WAS ADDED TO YOUR COLLECTION!</p>
    <p class="catch-shiny" id="catch-shiny"></p>
    <button class="btn btn-primary" id="btn-catch-continue">CONTINUE!</button>
  </div>

  <!-- ‚îÄ‚îÄ Evolution Overlay ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div id="evolution-overlay" class="evolution-overlay">
    <p class="evolution-msg" id="evolution-msg"></p>
    <canvas id="evolution-canvas" width="200" height="200" aria-label="Evolving Pomomon"></canvas>
    <p class="evolution-sub" id="evolution-sub"></p>
    <button class="btn btn-primary" id="btn-evo-dismiss" style="opacity:0;pointer-events:none">AWESOME!</button>
  </div>

  <!-- ‚îÄ‚îÄ Stats Strip ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <footer class="stats-strip">
    <!-- Row 1: level badge + XP numbers -->
    <div class="stats-top">
      <span class="level-badge">LV. <span id="player-level">1</span></span>
      <span class="xp-text"><span id="xp-current">0</span> / <span id="xp-max">100</span> XP</span>
    </div>
    <!-- Row 2: full-width bar; stats appear in the unfilled right portion -->
    <div class="stats-bottom">
      <div class="exp-bar-wrap">
        <div class="exp-bar" id="exp-bar" style="width:0%"></div>
      </div>
      <div class="stats-inline">
        <div class="stat-item">
          <span class="stat-val" id="stat-sessions">0</span>
          <span class="stat-label">SESSIONS</span>
        </div>
        <div class="stat-item">
          <span class="stat-val" id="stat-minutes">0</span>
          <span class="stat-label">MINUTES</span>
        </div>
        <div class="stat-item">
          <span class="stat-val" id="stat-catches">0</span>
          <span class="stat-label">CATCHES</span>
        </div>
      </div>
    </div>
  </footer>

  <!-- ‚îÄ‚îÄ Map icon (floats above stats strip) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <button class="btn-map-icon" id="btn-map-icon" aria-label="Level rewards">
    <canvas id="map-icon-canvas" width="16" height="16"></canvas>
    <span class="reward-dot" id="reward-dot"></span>
  </button>

  <script src="monsters.js"></script>
  <script src="game.js"></script>
  <script src="collection.js"></script>
  <script src="audio.js"></script>
  <script src="app.js"></script>
</body>
</html>
